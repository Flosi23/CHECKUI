import{j as I}from"./jsx-runtime-BhBAkL08.js";import{a as h,r as o}from"./index-caxmlYbZ.js";import{b as S,$ as j,_ as g}from"./index-C56Ec2w9.js";import{a as A,b as B,f as se,c as y,d as C,e as de}from"./index-B4ZogDlv.js";import{$ as ie}from"./index-DkFm1ALj.js";import{$ as fe,a as ue,b as q}from"./index-CLI9pqPX.js";import{c as G}from"./utils-C-5SdYIA.js";import{b as le}from"./Search-BVt7rsam.js";function be(e){const r=e+"CollectionProvider",[t,n]=A(r),[s,a]=t(r,{collectionRef:{current:null},itemMap:new Map}),f=d=>{const{scope:c,children:u}=d,R=h.useRef(null),b=h.useRef(new Map).current;return h.createElement(s,{scope:c,itemMap:b,collectionRef:R},u)},$=e+"CollectionSlot",i=h.forwardRef((d,c)=>{const{scope:u,children:R}=d,b=a($,u),p=S(c,b.collectionRef);return h.createElement(j,{ref:p},R)}),l=e+"CollectionItemSlot",x="data-radix-collection-item",m=h.forwardRef((d,c)=>{const{scope:u,children:R,...b}=d,p=h.useRef(null),F=S(c,p),_=a(l,u);return h.useEffect(()=>(_.itemMap.set(p,{ref:p,...b}),()=>void _.itemMap.delete(p))),h.createElement(j,{[x]:"",ref:F},R)});function v(d){const c=a(e+"CollectionConsumer",d);return h.useCallback(()=>{const R=c.collectionRef.current;if(!R)return[];const b=Array.from(R.querySelectorAll(`[${x}]`));return Array.from(c.itemMap.values()).sort((_,T)=>b.indexOf(_.ref.current)-b.indexOf(T.ref.current))},[c.collectionRef,c.itemMap])}return[{Provider:f,Slot:i,ItemSlot:m},v,n]}const pe=o.createContext(void 0);function K(e){const r=o.useContext(pe);return e||r||"ltr"}const N="rovingFocusGroup.onEntryFocus",$e={bubbles:!1,cancelable:!0},M="RovingFocusGroup",[P,U,me]=be(M),[ve,V]=A(M,[me]),[xe,Re]=ve(M),Ee=o.forwardRef((e,r)=>o.createElement(P.Provider,{scope:e.__scopeRovingFocusGroup},o.createElement(P.Slot,{scope:e.__scopeRovingFocusGroup},o.createElement(Ie,g({},e,{ref:r}))))),Ie=o.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:s=!1,dir:a,currentTabStopId:f,defaultCurrentTabStopId:$,onCurrentTabStopIdChange:i,onEntryFocus:l,...x}=e,m=o.useRef(null),v=S(r,m),d=K(a),[c=null,u]=B({prop:f,defaultProp:$,onChange:i}),[R,b]=o.useState(!1),p=se(l),F=U(t),_=o.useRef(!1),[T,O]=o.useState(0);return o.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(N,p),()=>E.removeEventListener(N,p)},[p]),o.createElement(xe,{scope:t,orientation:n,dir:d,loop:s,currentTabStopId:c,onItemFocus:o.useCallback(E=>u(E),[u]),onItemShiftTab:o.useCallback(()=>b(!0),[]),onFocusableItemAdd:o.useCallback(()=>O(E=>E+1),[]),onFocusableItemRemove:o.useCallback(()=>O(E=>E-1),[])},o.createElement(y.div,g({tabIndex:R||T===0?-1:0,"data-orientation":n},x,{ref:v,style:{outline:"none",...e.style},onMouseDown:C(e.onMouseDown,()=>{_.current=!0}),onFocus:C(e.onFocus,E=>{const re=!_.current;if(E.target===E.currentTarget&&re&&!R){const L=new CustomEvent(N,$e);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const k=F().filter(w=>w.focusable),ne=k.find(w=>w.active),ce=k.find(w=>w.id===c),ae=[ne,ce,...k].filter(Boolean).map(w=>w.ref.current);Y(ae)}}_.current=!1}),onBlur:C(e.onBlur,()=>b(!1))})))}),ge="RovingFocusGroupItem",he=o.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:s=!1,tabStopId:a,...f}=e,$=ie(),i=a||$,l=Re(ge,t),x=l.currentTabStopId===i,m=U(t),{onFocusableItemAdd:v,onFocusableItemRemove:d}=l;return o.useEffect(()=>{if(n)return v(),()=>d()},[n,v,d]),o.createElement(P.ItemSlot,{scope:t,id:i,focusable:n,active:s},o.createElement(y.span,g({tabIndex:x?0:-1,"data-orientation":l.orientation},f,{ref:r,onMouseDown:C(e.onMouseDown,c=>{n?l.onItemFocus(i):c.preventDefault()}),onFocus:C(e.onFocus,()=>l.onItemFocus(i)),onKeyDown:C(e.onKeyDown,c=>{if(c.key==="Tab"&&c.shiftKey){l.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const u=we(c,l.orientation,l.dir);if(u!==void 0){c.preventDefault();let b=m().filter(p=>p.focusable).map(p=>p.ref.current);if(u==="last")b.reverse();else if(u==="prev"||u==="next"){u==="prev"&&b.reverse();const p=b.indexOf(c.currentTarget);b=l.loop?Se(b,p+1):b.slice(p+1)}setTimeout(()=>Y(b))}})})))}),Ce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _e(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function we(e,r,t){const n=_e(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ce[n]}function Y(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function Se(e,r){return e.map((t,n)=>e[(r+n)%e.length])}const ye=Ee,Fe=he,z="Radio",[Ae,H]=A(z),[Te,ke]=Ae(z),Ne=o.forwardRef((e,r)=>{const{__scopeRadio:t,name:n,checked:s=!1,required:a,disabled:f,value:$="on",onCheck:i,...l}=e,[x,m]=o.useState(null),v=S(r,u=>m(u)),d=o.useRef(!1),c=x?!!x.closest("form"):!0;return o.createElement(Te,{scope:t,checked:s,disabled:f},o.createElement(y.button,g({type:"button",role:"radio","aria-checked":s,"data-state":W(s),"data-disabled":f?"":void 0,disabled:f,value:$},l,{ref:v,onClick:C(e.onClick,u=>{s||i==null||i(),c&&(d.current=u.isPropagationStopped(),d.current||u.stopPropagation())})})),c&&o.createElement(Me,{control:x,bubbles:!d.current,name:n,value:$,checked:s,required:a,disabled:f,style:{transform:"translateX(-100%)"}}))}),Pe="RadioIndicator",Ge=o.forwardRef((e,r)=>{const{__scopeRadio:t,forceMount:n,...s}=e,a=ke(Pe,t);return o.createElement(de,{present:n||a.checked},o.createElement(y.span,g({"data-state":W(a.checked),"data-disabled":a.disabled?"":void 0},s,{ref:r})))}),Me=e=>{const{control:r,checked:t,bubbles:n=!0,...s}=e,a=o.useRef(null),f=fe(t),$=ue(r);return o.useEffect(()=>{const i=a.current,l=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(l,"checked").set;if(f!==t&&m){const v=new Event("click",{bubbles:n});m.call(i,t),i.dispatchEvent(v)}},[f,t,n]),o.createElement("input",g({type:"radio","aria-hidden":!0,defaultChecked:t},s,{tabIndex:-1,ref:a,style:{...e.style,...$,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function W(e){return e?"checked":"unchecked"}const De=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],X="RadioGroup",[Oe,oo]=A(X,[V,H]),J=V(),Q=H(),[Le,je]=Oe(X),Be=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,name:n,defaultValue:s,value:a,required:f=!1,disabled:$=!1,orientation:i,dir:l,loop:x=!0,onValueChange:m,...v}=e,d=J(t),c=K(l),[u,R]=B({prop:a,defaultProp:s,onChange:m});return o.createElement(Le,{scope:t,name:n,required:f,disabled:$,value:u,onValueChange:R},o.createElement(ye,g({asChild:!0},d,{orientation:i,dir:c,loop:x}),o.createElement(y.div,g({role:"radiogroup","aria-required":f,"aria-orientation":i,"data-disabled":$?"":void 0,dir:c},v,{ref:r}))))}),qe="RadioGroupItem",Ke=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,disabled:n,...s}=e,a=je(qe,t),f=a.disabled||n,$=J(t),i=Q(t),l=o.useRef(null),x=S(r,l),m=a.value===s.value,v=o.useRef(!1);return o.useEffect(()=>{const d=u=>{De.includes(u.key)&&(v.current=!0)},c=()=>v.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",c),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",c)}},[]),o.createElement(Fe,g({asChild:!0},$,{focusable:!f,active:m}),o.createElement(Ne,g({disabled:f,required:a.required,checked:m},i,s,{name:a.name,ref:x,onCheck:()=>a.onValueChange(s.value),onKeyDown:C(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:C(s.onFocus,()=>{var d;v.current&&((d=l.current)===null||d===void 0||d.click())})})))}),Ue=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,...n}=e,s=Q(t);return o.createElement(Ge,g({},s,n,{ref:r}))}),Z=Be,ee=Ke,Ve=Ue,oe=o.forwardRef(({className:e,label:r,error:t,onClickHelpIcon:n,id:s,...a},f)=>{const $=o.useId(),i=s||$;return I.jsxs("div",{className:"flex flex-col",children:[r&&I.jsxs(q,{htmlFor:i,className:G("mb-3 flex items-center justify-between text-xl text-on-surface",a.disabled&&"text-on-surface-light"),children:[r,n&&I.jsx("button",{onClick:n,className:"mr-4",children:I.jsx(le,{className:"h-5 w-5 fill-on-surface"})})]}),I.jsx(D,{id:i,className:"rounded-[5px] border border-outline data-[disabled]:bg-surface-container","aria-invalid":!!t,"aria-errormessage":`${i}-error`,...a,ref:f}),t&&I.jsx("span",{id:`${i}-error`,className:"mt-1 text-sm leading-4 text-error",children:t})]})});oe.displayName="BoxedRadioGroup";const D=o.forwardRef(({className:e,direction:r="column",...t},n)=>I.jsx(Z,{className:G("grid divide-outline-variant",r==="column"&&"grid-flow-row divide-y px-4 *:py-4.5",r==="row"&&"grid-flow-col divide-x py-2.5 *:px-4 *:py-2",e),...t,ref:n}));D.displayName=Z.displayName;const te=o.forwardRef(({className:e,id:r,children:t,...n},s)=>{const a=o.useId(),f=r||a;return I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx(ee,{id:f,ref:s,className:G(`peer flex h-5.5 w-5.5 items-center justify-center rounded-full border border-outline bg-surface text-primary disabled:cursor-not-allowed disabled:bg-surface-container
         data-[state=checked]:border-primary`,e),...n,children:I.jsx(Ve,{children:I.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary"})})}),t&&I.jsx(q,{className:"text-lg text-on-surface peer-disabled:cursor-not-allowed peer-disabled:text-on-surface-light",htmlFor:f,children:t})]})});te.displayName=ee.displayName;D.__docgenInfo={description:"",methods:[],props:{direction:{defaultValue:{value:'"column"',computed:!1},required:!1}}};te.__docgenInfo={description:"",methods:[]};oe.__docgenInfo={description:"",methods:[],displayName:"BoxedRadioGroup"};export{oe as B,te as R,D as a};
